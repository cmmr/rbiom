<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Visualize BIOM data with boxplots. — taxa_boxplot • rbiom</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Visualize BIOM data with boxplots. — taxa_boxplot"><meta property="og:description" content="Visualize BIOM data with boxplots."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rbiom</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.3.9050</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/cmmr/rbiom/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Visualize BIOM data with boxplots.</h1>
    <small class="dont-index">Source: <a href="https://github.com/cmmr/rbiom/blob/HEAD/R/taxa_boxplot.r" class="external-link"><code>R/taxa_boxplot.r</code></a></small>
    <div class="hidden name"><code>taxa_boxplot.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Visualize BIOM data with boxplots.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">taxa_boxplot</span><span class="op">(</span>
  <span class="va">biom</span>,
  x <span class="op">=</span> <span class="st">".taxa"</span>,
  y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="fu"><a href="taxa.ranks.html">taxa.ranks</a></span><span class="op">(</span><span class="va">biom</span><span class="op">)</span>, <span class="fl">1</span><span class="op">)</span>,
  layers <span class="op">=</span> <span class="st">"rls"</span>,
  color.by <span class="op">=</span> <span class="cn">NULL</span>,
  pattern.by <span class="op">=</span> <span class="cn">NULL</span>,
  shape.by <span class="op">=</span> <span class="cn">NULL</span>,
  facet.by <span class="op">=</span> <span class="cn">NULL</span>,
  xvals <span class="op">=</span> <span class="cn">NULL</span>,
  colors <span class="op">=</span> <span class="cn">NULL</span>,
  patterns <span class="op">=</span> <span class="cn">NULL</span>,
  shapes <span class="op">=</span> <span class="cn">NULL</span>,
  facets <span class="op">=</span> <span class="cn">NULL</span>,
  taxa <span class="op">=</span> <span class="fl">5</span>,
  p.top <span class="op">=</span> <span class="cn">Inf</span>,
  p.adj <span class="op">=</span> <span class="st">"fdr"</span>,
  p.label <span class="op">=</span> <span class="fl">0.05</span>,
  perms <span class="op">=</span> <span class="fl">1000</span>,
  ci <span class="op">=</span> <span class="fl">95</span>,
  xlab.angle <span class="op">=</span> <span class="st">"auto"</span>,
  other <span class="op">=</span> <span class="cn">FALSE</span>,
  safe <span class="op">=</span> <span class="cn">FALSE</span>,
  <span class="va">...</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x</dt>
<dd><p>A BIOM object, as returned from <a href="read.biom.html">read.biom</a>.</p></dd>
<dt>layers</dt>
<dd><p><code>"box"</code>, <code>"bar" ("r")</code>, <code>"violin"</code>, 
<code>"dot"</code>, <code>"strip"</code>, <code>"crossbar"</code>, <code>"errorbar"</code>, 
<code>"linerange"</code>, and <code>"pointrange"</code>. Single letter 
abbreviations are also accepted. For instance, <code>c("box", "dot")</code> 
is equivalent to <code>c("b", "d")</code> and <code>"bd"</code>.
Default: <code>"rls"</code>.</p></dd>
<dt>color.by, pattern.by, shape.by, facet.by</dt>
<dd><p>Metadata 
column to color, pattern, shape, and/or facet by. If 
that column is a <code>factor</code>, the ordering of levels will be 
maintained in the plot.</p></dd>
<dt>colors, patterns, shapes, facets, xvals</dt>
<dd><p>Names of the colors, patterns,
shapes, facets, and/or x values to use in the plot. Available values 
for colors, patterns, and shapes are given by <code><a href="https://rdrr.io/r/grDevices/colors.html" class="external-link">colors()</a></code>, 
<code><a href="https://trevorldavis.com/R/gridpattern/reference/grid.pattern_magick.html" class="external-link">gridpattern::names_magick</a></code>, and <code>0:25</code>,
respectively. Use a named character vector to map them to specific
factor levels in the metadata. <code>facets</code> and <code>xvals</code> are
coerced to unnamed character vectors. If the length of these vectors
is less than the values present in their corresponding metadata 
column, then the data set will be subseted accordingly.</p></dd>
<dt>taxa</dt>
<dd><p>Which taxa to display. An integer value will show the top n
most abundant taxa. A value 0 &lt;= n &lt; 1 will show any taxa with that 
mean abundance or greater (e.g. 0.1). A character vector of
taxon names will show only those taxa. (Default: <code>10</code> for 
heatmaps, <code>5</code> otherwise.)</p></dd>
<dt>p.top</dt>
<dd><p>For <code>RANK ~ .</code> (taxa abundance) plots or 
<code>BDIV ~ ORD</code> ordination biplots, only display taxa with the most 
significant differences in abundance. If <code>p.top</code> is &gt;= 1, then 
the <code>p.top</code> most significant taxa are displayed. If <code>p.top</code> 
is less than one, all taxa with an adjusted p-value &lt;= <code>p.top</code> 
are displayed. Recommended to be used in combination with the 
<code>taxa</code> parameter to set a lower bound on the mean abundance of 
considered taxa. (Default: <code>Inf</code>)</p></dd>
<dt>p.adj</dt>
<dd><p>Method to use for multiple comparisons adjustment of p-values.
Run <code>p.adjust.methods</code> for a list of available options.
(Default: <code>fdr</code>)</p></dd>
<dt>p.label</dt>
<dd><p>Minimum adjusted p-value to display on the plot with a bracket.
Set to <code>Inf</code> to display all p-values, or <code>-Inf</code> for no brackets.
If a numeric vector with more than one value is provided, they will be
used as breaks for asterisk notation. (Default: <code>0.05</code>)</p></dd>
<dt>ci</dt>
<dd><p>How to calculate min/max of the <b>crossbar</b>, 
<b>errorbar</b>, <b>linerange</b>, and <b>pointrange</b> layers.
Provide a number between 75 and 100 to define a confidence interval's
confidence level, commonly 95 or 97.5. Other options are: 
<b>range</b>, 
<b>sd</b> (standard deviation), 
<b>se</b> (standard error), and 
<b>mad</b> (median absolute deviation). 
The center mark of <code>crossbar</code> and <code>pointrange</code> represents
the mean, except for <b>mad</b> in which case it represents
the median. Trendlines require a confidence interval value. 
Set to <code>NULL</code> to disable. Default: <code>95</code></p></dd>
<dt>xlab.angle</dt>
<dd><p>How to rotate the tick labels on the x-axis. 
<b>'auto'</b> (the default), automatically selects a rotation value. 
<b>0</b>, <b>30</b>, and <b>90</b> sets the angle to horizontal, 
angled, and vertical, respectively.</p></dd>
<dt>other</dt>
<dd><p>Should non-selected taxa be displayed as an "Other" group?
(Default: <code>FALSE</code>)</p></dd>
<dt>safe</dt>
<dd><p>If <code>FALSE</code>, data.frame column names such as 
<code>".metric"</code> will be auto-converted to <code>"Metric"</code> to improve
human-readability. Conversion if aborted if a conflict is found with
a metadata column name. (Default: <code>FALSE</code>)</p></dd>
<dt>...</dt>
<dd><p>Parameters are matched to formal arguments of ggplot2
functions. Prefixing parameter names with a layer name ensures that
a particular parameter is passed to, and only to, that layer. For
instance, <code>dot.size = 2</code> or <code>d.size = 2</code> ensures only the 
dotplot layer has its size set to <code>2</code>.</p></dd>
<dt>rank</dt>
<dd><p>What rank of taxa to display. E.g. "Phylum", "Genus", etc. Run
<code><a href="taxa.ranks.html">taxa.ranks()</a></code> to see all options for a given BIOM object. The
default, <code>NULL</code>, selects the lowest level.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A <code>ggplot2</code> plot. The computed data points and statistics will 
        be attached as <code>attr(p, 'data')</code> and <code>attr(p, 'stats')</code>, 
        respectively.
Shapes can also be given as their string values, defined in pch_table here:
https://github.com/tidyverse/ggplot2/blob/master/R/geom-point.r . Note that
some shapes have a colored outline given by `color`, some are filled with 
`color`, and some are outlined in `color` and filled with `fill`. See
https://blog.albertkuo.me/post/point-shape-options-in-ggplot/ for details.
To expand the low end of the y axis, you can set <code>y.trans = "sqrt"</code> or
<code>y.trans = "log1p"</code>. The former applies a square-root transformation, 
and the latter plots log(y + 1). Both of these methods work well with data
that contains zeroes.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="stats.table.html">stats.table</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in">    <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://cmmr.github.io/rbiom/index.html" class="external-link">rbiom</a></span><span class="op">)</span></span>
<span class="r-in">    </span>
<span class="r-in">    <span class="va">biom</span> <span class="op">&lt;-</span> <span class="fu"><a href="rarefy.html">rarefy</a></span><span class="op">(</span><span class="va">hmp50</span><span class="op">)</span></span>
<span class="r-in">    <span class="fu">taxa_boxplot</span><span class="op">(</span><span class="va">biom</span>, x <span class="op">=</span> <span class="st">"."</span>, y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Phylum"</span>, <span class="st">"Genus"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in taxa_boxplot(biom, x = ".", y = c("Phylum", "Genus")):</span> `x` argument to taxa_boxplot must be metadata column name(s) or '.taxa'</span>
<span class="r-in">    </span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Daniel P. Smith.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

      </footer></div>

  


  

  </body></html>

